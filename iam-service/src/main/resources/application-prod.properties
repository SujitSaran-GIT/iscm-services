# ========== Production Environment Configuration ==========
# This file contains production-specific settings
# ALL secrets must be provided via environment variables or secret management

# ========== Datasource / PostgreSQL / Hikari ==========
# These MUST be provided via environment variables in production
DB_URL=${DB_URL}
DB_USERNAME=${DB_USERNAME}
DB_PASSWORD=${DB_PASSWORD}

# ========== Redis ==========
REDIS_HOST=${REDIS_HOST}
REDIS_PORT=${REDIS_PORT}
REDIS_PASSWORD=${REDIS_PASSWORD}

# ========== JWT & Security ==========
# These MUST be provided via environment variables in production
JWT_SECRET=${JWT_SECRET}
JWT_REFRESH_SECRET=${JWT_REFRESH_SECRET}

# ========== Mail Settings ==========
MAIL_HOST=${MAIL_HOST}
MAIL_PORT=${MAIL_PORT}
MAIL_USERNAME=${MAIL_USERNAME}
MAIL_PASSWORD=${MAIL_PASSWORD}

# ========== OAuth Configuration ==========
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}
GOOGLE_REDIRECT_URI=${GOOGLE_REDIRECT_URI}

MICROSOFT_CLIENT_ID=${MICROSOFT_CLIENT_ID}
MICROSOFT_CLIENT_SECRET=${MICROSOFT_CLIENT_SECRET}
MICROSOFT_REDIRECT_URI=${MICROSOFT_REDIRECT_URI}

LINKEDIN_CLIENT_ID=${LINKEDIN_CLIENT_ID}
LINKEDIN_CLIENT_SECRET=${LINKEDIN_CLIENT_SECRET}
LINKEDIN_REDIRECT_URI=${LINKEDIN_REDIRECT_URI}

# ========== Fraud Detection ==========
FRAUD_SERVICE_URL=${FRAUD_SERVICE_URL}

# ========== JPA / Hibernate ==========
# For production, always validate schema
spring.jpa.hibernate.ddl-auto=validate

# ========== Connection Pooling (Production Optimized) ==========
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.leak-detection-threshold=60000

# ========== Logging ==========
logging.level.com.iscm=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate.SQL=WARN

# ========== Performance Monitoring ==========
management.metrics.export.prometheus.enabled=true
management.endpoint.metrics.enabled=true

# ========== Security Headers ==========
server.error.include-stacktrace=never
server.error.include-message=never